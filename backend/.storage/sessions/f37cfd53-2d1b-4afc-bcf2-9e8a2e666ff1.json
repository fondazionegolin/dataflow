{
  "id": "f37cfd53-2d1b-4afc-bcf2-9e8a2e666ff1",
  "name": "New Workflow",
  "created_at": "2025-10-04T16:19:31.293624",
  "updated_at": "2025-10-05T13:29:09.773780",
  "workflow": {
    "name": "New Workflow",
    "nodes": [
      {
        "id": "llm.dataset-1759588015846",
        "type": "customNode",
        "position": {
          "x": -96,
          "y": -144
        },
        "data": {
          "type": "llm.dataset",
          "label": "LLM Dataset",
          "spec": {
            "type": "llm.dataset",
            "label": "LLM Dataset",
            "category": "llm",
            "description": "Generate conversational/instructional dataset for LLM fine-tuning",
            "inputs": [],
            "outputs": [
              {
                "name": "dataset",
                "type": "table",
                "label": "Training Dataset",
                "required": true,
                "description": null
              }
            ],
            "params": [
              {
                "name": "format",
                "type": "select",
                "label": "Dataset Format",
                "default": "conversation",
                "required": false,
                "description": "Type of dataset to generate",
                "options": [
                  "instruction",
                  "conversation",
                  "completion"
                ],
                "min": null,
                "max": null,
                "step": null,
                "accept": null,
                "language": null
              },
              {
                "name": "n_samples",
                "type": "integer",
                "label": "Number of Samples",
                "default": 100,
                "required": false,
                "description": "Number of training examples",
                "options": null,
                "min": null,
                "max": null,
                "step": null,
                "accept": null,
                "language": null
              },
              {
                "name": "domain",
                "type": "select",
                "label": "Domain",
                "default": "general",
                "required": false,
                "description": "Domain for generated examples",
                "options": [
                  "general",
                  "customer_support",
                  "code",
                  "creative_writing",
                  "qa"
                ],
                "min": null,
                "max": null,
                "step": null,
                "accept": null,
                "language": null
              },
              {
                "name": "language",
                "type": "select",
                "label": "Language",
                "default": "italian",
                "required": false,
                "description": "Language for generated text",
                "options": [
                  "english",
                  "italian"
                ],
                "min": null,
                "max": null,
                "step": null,
                "accept": null,
                "language": null
              },
              {
                "name": "custom_prompt",
                "type": "string",
                "label": "Custom Prompt (Optional)",
                "default": "",
                "required": false,
                "description": "Add custom instructions for generation",
                "options": null,
                "min": null,
                "max": null,
                "step": null,
                "accept": null,
                "language": null
              },
              {
                "name": "seed",
                "type": "integer",
                "label": "Random Seed",
                "default": 42,
                "required": false,
                "description": "Seed for reproducibility",
                "options": null,
                "min": null,
                "max": null,
                "step": null,
                "accept": null,
                "language": null
              }
            ],
            "cache_policy": "manual",
            "icon": "\ud83d\udcac",
            "color": "#FF6B6B"
          },
          "params": {
            "format": "conversation",
            "n_samples": 100,
            "domain": "general",
            "language": "italian",
            "custom_prompt": "parlare con bambini",
            "seed": 42
          },
          "status": "success",
          "executionTime": 0.002471446990966797
        },
        "width": 300,
        "height": 631,
        "selected": false,
        "positionAbsolute": {
          "x": -96,
          "y": -144
        },
        "dragging": false
      },
      {
        "id": "llm.finetune-1759588068154",
        "type": "customNode",
        "position": {
          "x": 720,
          "y": 552
        },
        "data": {
          "type": "llm.finetune",
          "label": "Fine-tune LLM",
          "spec": {
            "type": "llm.finetune",
            "label": "Fine-tune LLM",
            "category": "llm",
            "description": "Fine-tune GPT-2 or DistilGPT-2 on custom dataset",
            "inputs": [
              {
                "name": "dataset",
                "type": "table",
                "label": "Training Dataset",
                "required": true,
                "description": null
              }
            ],
            "outputs": [
              {
                "name": "model",
                "type": "model",
                "label": "Fine-tuned Model",
                "required": true,
                "description": null
              },
              {
                "name": "metrics",
                "type": "metrics",
                "label": "Training Metrics",
                "required": true,
                "description": null
              },
              {
                "name": "loss_plot",
                "type": "params",
                "label": "Loss Plot",
                "required": true,
                "description": null
              }
            ],
            "params": [
              {
                "name": "base_model",
                "type": "select",
                "label": "Base Model",
                "default": "distilgpt2",
                "required": false,
                "description": "Pre-trained model to fine-tune",
                "options": [
                  "distilgpt2",
                  "gpt2",
                  "TinyLlama/TinyLlama-1.1B-Chat-v1.0"
                ],
                "min": null,
                "max": null,
                "step": null,
                "accept": null,
                "language": null
              },
              {
                "name": "text_column",
                "type": "column",
                "label": "Text Column",
                "default": null,
                "required": true,
                "description": "Column with text to train on",
                "options": null,
                "min": null,
                "max": null,
                "step": null,
                "accept": null,
                "language": null
              },
              {
                "name": "epochs",
                "type": "integer",
                "label": "Epochs",
                "default": 3,
                "required": false,
                "description": "Number of training epochs",
                "options": null,
                "min": null,
                "max": null,
                "step": null,
                "accept": null,
                "language": null
              },
              {
                "name": "batch_size",
                "type": "integer",
                "label": "Batch Size",
                "default": 4,
                "required": false,
                "description": "Training batch size",
                "options": null,
                "min": null,
                "max": null,
                "step": null,
                "accept": null,
                "language": null
              },
              {
                "name": "learning_rate",
                "type": "number",
                "label": "Learning Rate",
                "default": 5e-05,
                "required": false,
                "description": "Learning rate for training",
                "options": null,
                "min": null,
                "max": null,
                "step": null,
                "accept": null,
                "language": null
              },
              {
                "name": "max_length",
                "type": "integer",
                "label": "Max Length",
                "default": 128,
                "required": false,
                "description": "Maximum sequence length",
                "options": null,
                "min": null,
                "max": null,
                "step": null,
                "accept": null,
                "language": null
              }
            ],
            "cache_policy": "manual",
            "icon": "\ud83c\udf93",
            "color": "#4ECDC4"
          },
          "params": {
            "base_model": "TinyLlama/TinyLlama-1.1B-Chat-v1.0",
            "text_column": "text",
            "epochs": 3,
            "batch_size": 4,
            "learning_rate": 5e-05,
            "max_length": 128
          },
          "status": "error",
          "error": "Source port table not found in node csv.load-1759588884977"
        },
        "width": 300,
        "height": 698,
        "selected": false,
        "dragging": false,
        "positionAbsolute": {
          "x": 720,
          "y": 552
        }
      },
      {
        "id": "image.model-1759614191517",
        "type": "customNode",
        "position": {
          "x": -504,
          "y": 1440
        },
        "data": {
          "type": "image.model",
          "label": "Image Model",
          "spec": {
            "type": "image.model",
            "label": "Image Model",
            "category": "images",
            "description": "Load Stable Diffusion, Flux, or other image generation models",
            "inputs": [],
            "outputs": [
              {
                "name": "model",
                "type": "model",
                "label": "Model",
                "required": true,
                "description": null
              },
              {
                "name": "info",
                "type": "params",
                "label": "Model Info",
                "required": true,
                "description": null
              }
            ],
            "params": [
              {
                "name": "model_name",
                "type": "select",
                "label": "Model",
                "default": "stabilityai/stable-diffusion-xl-base-1.0",
                "required": false,
                "description": "Image generation model to use",
                "options": [
                  "stabilityai/stable-diffusion-3-medium",
                  "black-forest-labs/FLUX.1-dev",
                  "stabilityai/stable-diffusion-xl-base-1.0",
                  "runwayml/stable-diffusion-v1-5",
                  "Qwen/Qwen-VL"
                ],
                "min": null,
                "max": null,
                "step": null,
                "accept": null,
                "language": null
              },
              {
                "name": "device",
                "type": "select",
                "label": "Device",
                "default": "auto",
                "required": false,
                "description": "Device to run model on",
                "options": [
                  "auto",
                  "cpu",
                  "cuda",
                  "mps"
                ],
                "min": null,
                "max": null,
                "step": null,
                "accept": null,
                "language": null
              },
              {
                "name": "use_local",
                "type": "boolean",
                "label": "Use Local Model",
                "default": false,
                "required": false,
                "description": "Load model from ./models directory",
                "options": null,
                "min": null,
                "max": null,
                "step": null,
                "accept": null,
                "language": null
              }
            ],
            "cache_policy": "manual",
            "icon": "\ud83c\udfa8",
            "color": "#FF6B9D"
          },
          "params": {
            "model_name": "runwayml/stable-diffusion-v1-5",
            "device": "auto",
            "use_local": false
          },
          "status": "error",
          "error": "Failed to load model: StableDiffusionSafetyChecker.__init__() got an unexpected keyword argument 'offload_state_dict'"
        },
        "width": 300,
        "height": 403,
        "selected": false,
        "dragging": false
      },
      {
        "id": "ai.generate_dataset-1759663404054",
        "type": "customNode",
        "position": {
          "x": -600,
          "y": 600
        },
        "data": {
          "type": "ai.generate_dataset",
          "label": "AI Generate Dataset",
          "spec": {
            "type": "ai.generate_dataset",
            "label": "AI Generate Dataset",
            "category": "sources",
            "description": "Generate realistic dataset using OpenAI based on natural language description",
            "inputs": [],
            "outputs": [
              {
                "name": "table",
                "type": "table",
                "label": "Generated Table",
                "required": true,
                "description": null
              }
            ],
            "params": [
              {
                "name": "template",
                "type": "select",
                "label": "Template (optional)",
                "default": "custom",
                "required": false,
                "description": "Select a predefined template or use custom",
                "options": [
                  "custom",
                  "classification_iris",
                  "classification_customer_churn",
                  "regression_house_prices",
                  "regression_car_performance",
                  "nlp_sentiment_reviews",
                  "nlp_spam_detection",
                  "timeseries_sales",
                  "clustering_customer_segments"
                ],
                "min": null,
                "max": null,
                "step": null,
                "accept": null,
                "language": null
              },
              {
                "name": "n_rows",
                "type": "integer",
                "label": "Number of Rows",
                "default": 100,
                "required": false,
                "description": "Number of rows to generate",
                "options": null,
                "min": 10,
                "max": 10000,
                "step": null,
                "accept": null,
                "language": null
              },
              {
                "name": "columns",
                "type": "string",
                "label": "Column Names",
                "default": "cilindrata,consumo",
                "required": false,
                "description": "Comma-separated column names (e.g., 'cilindrata,consumo,potenza')",
                "options": null,
                "min": null,
                "max": null,
                "step": null,
                "accept": null,
                "language": null
              },
              {
                "name": "description",
                "type": "string",
                "label": "Dataset Description",
                "default": "",
                "required": false,
                "description": "Describe in natural language what the dataset should represent and the relationships between columns",
                "options": null,
                "min": null,
                "max": null,
                "step": null,
                "accept": null,
                "language": null
              },
              {
                "name": "seed",
                "type": "integer",
                "label": "Random Seed",
                "default": 42,
                "required": false,
                "description": "Seed for reproducibility",
                "options": null,
                "min": null,
                "max": null,
                "step": null,
                "accept": null,
                "language": null
              },
              {
                "name": "dataset_name",
                "type": "string",
                "label": "Dataset Name (optional)",
                "default": "",
                "required": false,
                "description": "Custom name for saved dataset (auto-generated if empty)",
                "options": null,
                "min": null,
                "max": null,
                "step": null,
                "accept": null,
                "language": null
              },
              {
                "name": "force_regenerate",
                "type": "boolean",
                "label": "Force Regenerate",
                "default": false,
                "required": false,
                "description": "Force regeneration even if cached (costs API credits)",
                "options": null,
                "min": null,
                "max": null,
                "step": null,
                "accept": null,
                "language": null
              }
            ],
            "cache_policy": "auto",
            "icon": "\ud83e\udd16",
            "color": "#10B981"
          },
          "params": {
            "template": "custom",
            "n_rows": 100,
            "columns": "cilindrata,consumo",
            "description": "",
            "seed": 42,
            "dataset_name": "",
            "force_regenerate": false
          },
          "status": "idle"
        },
        "width": 300,
        "height": 681
      }
    ],
    "edges": [
      {
        "source": "llm.dataset-1759588015846",
        "sourceHandle": "dataset",
        "target": "llm.finetune-1759588068154",
        "targetHandle": "dataset",
        "id": "llm.dataset-1759588015846-dataset-llm.finetune-1759588068154-dataset",
        "selected": false,
        "data": {
          "targetCategory": "llm"
        },
        "className": "edge-llm"
      }
    ],
    "executionResults": {}
  }
}